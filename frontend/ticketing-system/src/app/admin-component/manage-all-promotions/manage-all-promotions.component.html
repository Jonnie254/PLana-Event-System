<div class="bg-slate-50 mt-2">
    <!-- Event Promotions Overlay -->
    <div *ngIf="confirmationModal"
        class="fixed inset-0 p-4 flex flex-wrap justify-center items-center w-full h-full z-40 before:fixed before:inset-0 before:w-full before:h-full before:bg-[rgba(0,0,0,0.5)] overflow-auto font-[sans-serif]">
        <div class="w-full max-w-lg bg-white shadow-lg rounded-lg p-6 relative">
            <i class="pi pi-times text-red-600 absolute top-2 right-2 cursor-pointer" (click)="closeModal()"></i>

            <div class="my-4 text-center">
                <i class="pi pi-check-circle text-green-800 text-4xl"></i>

                <h4 class="text-gray-800 text-base font-semibold mt-4">Are you sure you want to Accept?
                </h4>

                <div class="text-center space-x-4 mt-8">
                    <button type="button" (click)="closeModal()"
                        class="px-4 py-2 rounded-lg text-gray-800 text-sm bg-gray-200 hover:bg-gray-300 active:bg-gray-200">Cancel</button>
                    <button type="button" (click)="approvePromotion(this.requestedPromotionId)"
                        class="px-4 py-2 rounded-lg text-white text-sm bg-green-400 hover:bg-green-300 active:bg-green-600">Confirm</button>
                </div>
            </div>
        </div>
    </div>

    <div class="flex items-center justify-between p-4 bg-white">
        <h1 class="text-2xl font-semibold text-gray-800">Manage Event Promotions</h1>
    </div>
    <div class="font-sans overflow-x-auto">
        <table class="min-w-full bg-white">
            <thead class="bg-gray-800 whitespace-nowrap">
                <tr>
                    <th class="p-4 text-left text-xs font-semibold text-white">#</th>
                    <th class="p-4 text-left text-xs font-semibold text-white">Event Name</th>
                    <th class="p-4 text-left text-xs font-semibold text-white">Location</th>
                    <th class="p-4 text-left text-xs font-semibold text-white">Event Image</th>
                    <th class="p-4 text-left text-xs font-semibold text-white">Requested At</th>
                    <th class="p-4 text-left text-xs font-semibold text-white">Actions</th>
                </tr>
            </thead>
            <tbody class="whitespace-nowrap">
                <tr class="hover:bg-gray-50" *ngFor="let promotion of paginatedEvents; let i = index">
                    <td class="p-4 text-[15px] text-gray-800">{{ (currentPage - 1) * itemsPerPage + i + 1 }}</td>
                    <td class="p-4 text-[15px] text-gray-800 cursor-pointer hover:text-blue-500 hover:underline">{{
                        promotion.event.name }}</td>
                    <td class="p-4 text-[15px] text-gray-800">{{ promotion.event.location }}</td>
                    <td class="p-4 w-7 h-7 rounded-full shrink-0">
                        <img [src]="promotion.event.image" alt="Event Image" class="w-10 h-10 rounded-full">
                    </td>
                    <td class="p-4 text-[15px] text-gray-800">{{ promotion.createdAt| date: 'mediumDate' }}</td>
                    <td class="p-4">
                        <button class="bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 pi pi-check"
                            (click)="showConfirmationModal(promotion.id)">
                        </button>
                        <button class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 ml-2 pi pi-times-circle"
                            (click)="showConfirmationModal(promotion.id)">
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <ul class="flex space-x-4 justify-center mb-2">
            <li class="flex items-center justify-center shrink-0 bg-gray-300 w-8 h-8 rounded-full cursor-pointer"
                (click)="goToPreviousPage()">
                <i class="pi pi-angle-left w-5 text-xl text-gray-800"></i>
            </li>
            <li *ngFor="let page of [].constructor(totalPages()); let i = index"
                class="flex items-center justify-center shrink-0 border-2 cursor-pointer text-base font-bold w-8 h-8 rounded-full"
                [ngClass]="{'bg-blue-500 text-white border-blue-500': currentPage === (i + 1), 'hover:bg-gray-50 text-[#333]': currentPage !== (i + 1)}"
                (click)="goToPage(i + 1)">
                {{ i + 1 }}
            </li>
            <li class="flex items-center justify-center shrink-0 bg-gray-300 w-8 h-8 rounded-full cursor-pointer"
                (click)="goToNextPage()">
                <i class="pi pi-angle-right w-5 text-xl text-gray-800"></i>
            </li>
        </ul>
    </div>
</div>